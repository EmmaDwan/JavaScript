<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script type="text/javascript">

// this指向
// 例1		
		const obj = {
			name: 'Gabrielle'
		}

		function func() {

			console.log(this);
			return () => {			        // 返回了匿名箭头函数
				console.log(this);
			}
		}
		// 执行func()
		const re = func.call(obj);   // 调用fn，且让this指向obj
									 // 让re = func的返回值，即re = 那个箭头函数部分						
		// 执行re()  (func返回值)							 
		re();						 // 全局作用域下调用re，相当于window调用re
				 					 // 但re的this不指向window，而是指向 箭头函数定义位置 的this
				 					 // 						(fn函数里，而fn的this指向了obj)


				 										
// 例2		
		var oynn = {
			name: '欧阳娜娜',
			age: 20,
			say: () => {
				console.log(this.name);
			},
			sing: function() {
				console.log(this.name);
			}
		} 


		oynn.say();    //首先，oynn是个对象，不产生自己的作用域
		               //(单独拉出来定义的实例化对象，不是构造函数不是类)
					   //所以箭头函数的{}不绑定this，往上一作用域找————全局作用域
					   //this指向window，window下没有age属性
					   
		name = 'what';
		oynn.say();	   // window下定义了name后 
		oynn.sing();   // 常规函数定义的方法，this指向调用者
	</script>
	
</body>
</html>