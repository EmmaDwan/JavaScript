<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		* {
            padding: 0;
            margin: 0;
        }
        
        .wrap {
            width: 300px;
            margin: 100px auto 0;
        }
        
        table {
            border-collapse: collapse;
            border-spacing: 0;
            border: 1px solid #c0c0c0;
            width: 300px;
        }
        
        th,
        td {
            border: 1px solid #d0d0d0;
            color: #404060;
            padding: 10px;
        }
        
        th {
            background-color: #09c;
            font: bold 16px "微软雅黑";
            color: #fff;
        }
        
        td {
            font: 14px "微软雅黑";
        }
        
        tbody tr {
            background-color: #f0f0f0;
        }
        
        tbody tr:hover {
            cursor: pointer;
            background-color: #fafafa;
        }

	</style>
</head>


<body>
	<div class="wrap">

        <table>

            <thead>
                <tr>
                    <th>
                        <input type="checkbox" id="j_cbAll" />
                    </th>
                    <th>商品</th>
                    <th>价钱</th>
                </tr>
            </thead>


            <tbody id="j_tb">
                <tr>
                    <td>
                        <input type="checkbox" />
                    </td>
                    <td>iPhone8</td>
                    <td>8000</td>
                </tr>
                <tr>
                    <td>
                        <input type="checkbox" />
                    </td>
                    <td>iPad Pro</td>
                    <td>5000</td>
                </tr>
                <tr>
                    <td>
                        <input type="checkbox" />
                    </td>
                    <td>iPad Air</td>
                    <td>2000</td>
                </tr>
                <tr>
                    <td>
                        <input type="checkbox" />
                    </td>
                    <td>Apple Watch</td>
                    <td>2000</td>
                </tr>

            </tbody>

        </table>


    </div>





	<script type="text/javascript">

// 1.全选按钮：全选/反选，其它按钮值 = 全选按钮
// 2.其它多选按钮：没有全选或全不选的时候，会影响全选按钮	
		



	// 第1部分 全选按钮 影响 其它
		var allChoose = document.getElementById('j_cbAll');
		var lChoose = document.getElementById('j_tb').getElementsByTagName('input');
       
		allChoose.onclick = function() {

			// this.checked              //this.checked表示当前选中状态，返回true/false

			for (var i = 0; i < lChoose.length; i++) {

				lChoose[i].checked = this.checked;                  //true或false，不用''

			}
		}

    // 第2部分 其它 影响 全选按钮
        //每选中一次小按钮，就判断一次所有
        for (var i = 0; i < lChoose.length; i++) {
        	lChoose[i].onclick = function() {
                //设一个常为真的
        		var flag = true;

        		for (var i = 0; i < lChoose.length; i++) {  //两个i在不同作用域，不会相互影响
        	       	//循环判断，只要有一个其它被选中flag就为false
        	       	//如果小按钮 没有选中false，if条件true（!false）
        	       	//如果没有任何小按钮被选中true，if条件假，不执行if
        			if ( !lChoose[i].checked ) {         //非 没选中false
        				flag = false;                                //true或false，不用''
        				break;                          //无须继续判断                      
        			}  		
        		}

                allChoose.checked = flag;
        	}
        }

			
	</script>
		
	
</body>
</html>